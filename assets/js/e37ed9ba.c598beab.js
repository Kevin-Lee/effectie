(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{150:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/effectie-logo-96x96-e63a86ccb6f2e7637f259ff47575cf69.png"},89:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return o})),n.d(t,"default",(function(){return s}));var a=n(3),r=n(8),c=(n(0),n(94)),i={id:"getting-started",title:"Getting Started",slug:"/"},l={unversionedId:"getting-started",id:"getting-started",isDocsHomePage:!1,title:"Getting Started",description:"Effectie Logo Effectie",source:"@site/../generated-docs/target/mdoc/getting-started.md",sourceDirName:".",slug:"/",permalink:"/docs/",version:"current",frontMatter:{id:"getting-started",title:"Getting Started",slug:"/"},sidebar:"someSidebar",next:{title:"For Cats Effect",permalink:"/docs/cats-effect/cats-effect"}},o=[{value:"Effectie Logo Effectie",id:"effectie-logo-effectie",children:[]},{value:"Getting Started",id:"getting-started",children:[{value:"For Cats Effect",id:"for-cats-effect",children:[]},{value:"For Scalaz Effect",id:"for-scalaz-effect",children:[]}]},{value:"Why?",id:"why",children:[]}],f={toc:o};function s(e){var t=e.components,i=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},f,i,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"effectie-logo-effectie"},Object(c.b)("img",{alt:"Effectie Logo",src:n(150).default})," Effectie"),Object(c.b)("p",null,Object(c.b)("a",{parentName:"p",href:"https://github.com/Kevin-Lee/effectie/actions?workflow=Build-All"},Object(c.b)("img",{parentName:"a",src:"https://github.com/Kevin-Lee/effectie/workflows/Build-All/badge.svg",alt:"Build Status"})),"\n",Object(c.b)("a",{parentName:"p",href:"https://github.com/Kevin-Lee/effectie/actions?workflow=Release"},Object(c.b)("img",{parentName:"a",src:"https://github.com/Kevin-Lee/effectie/workflows/Release/badge.svg",alt:"Release Status"})),"\n",Object(c.b)("a",{parentName:"p",href:"https://index.scala-lang.org/kevin-lee/effectie"},Object(c.b)("img",{parentName:"a",src:"https://index.scala-lang.org/kevin-lee/effectie/latest.svg",alt:"Latest version"}))),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:"right"},"Project"),Object(c.b)("th",{parentName:"tr",align:null},"Maven Central"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:"right"},"effectie-cats-effect"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("a",{parentName:"td",href:"https://search.maven.org/artifact/io.kevinlee/effectie-cats-effect_2.13"},Object(c.b)("img",{parentName:"a",src:"https://maven-badges.herokuapp.com/maven-central/io.kevinlee/effectie-cats-effect_2.13/badge.svg",alt:"Maven Central"})))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:"right"},"effectie-monix"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("a",{parentName:"td",href:"https://search.maven.org/artifact/io.kevinlee/effectie-monix_2.13"},Object(c.b)("img",{parentName:"a",src:"https://maven-badges.herokuapp.com/maven-central/io.kevinlee/effectie-monix_2.13/badge.svg",alt:"Maven Central"})))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:"right"},"effectie-scalaz-effect"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("a",{parentName:"td",href:"https://search.maven.org/artifact/io.kevinlee/effectie-scalaz-effect_2.13"},Object(c.b)("img",{parentName:"a",src:"https://maven-badges.herokuapp.com/maven-central/io.kevinlee/effectie-scalaz-effect_2.13/badge.svg",alt:"Maven Central"})))))),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Supported Scala Versions: ",Object(c.b)("inlineCode",{parentName:"li"},"2.11.12"),", ",Object(c.b)("inlineCode",{parentName:"li"},"2.12.13"),", ",Object(c.b)("inlineCode",{parentName:"li"},"2.13.5"),", ",Object(c.b)("inlineCode",{parentName:"li"},"3.0.0-RC1"),", ",Object(c.b)("inlineCode",{parentName:"li"},"3.0.0-RC2")," and ",Object(c.b)("inlineCode",{parentName:"li"},"3.0.0-RC3"))),Object(c.b)("p",null,"A set of type-classes and utils for functional effect libraries (i.e. Scalaz and Cats Effect)."),Object(c.b)("p",null,"Why Effectie? Please read ",Object(c.b)("a",{parentName:"p",href:"#why"},'"Why?"')," section."),Object(c.b)("h2",{id:"getting-started"},"Getting Started"),Object(c.b)("h3",{id:"for-cats-effect"},"For Cats Effect"),Object(c.b)("p",null,"In ",Object(c.b)("inlineCode",{parentName:"p"},"build.sbt"),","),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'libraryDependencies += "io.kevinlee" %% "effectie-cats-effect" % "1.10.0"\n')),Object(c.b)("p",null,"then import"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},"import effectie.cats.ConsoleEffectful._\nimport effectie.cats.Effectful._\n\nimport effectie.cats.EitherTSupport._\nimport effectie.cats.OptionTSupport._\nimport effectie.cats._\n")),Object(c.b)("p",null,"For more details, check out ",Object(c.b)("a",{parentName:"p",href:"cats-effect/cats-effect"},"Effectie for Cats Effect"),"."),Object(c.b)("h3",{id:"for-scalaz-effect"},"For Scalaz Effect"),Object(c.b)("p",null,"In ",Object(c.b)("inlineCode",{parentName:"p"},"build.sbt"),","),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'libraryDependencies += "io.kevinlee" %% "effectie-scalaz-effect" % "1.10.0"\n')),Object(c.b)("p",null,"then import"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},"import effectie.scalaz.ConsoleEffectful._\nimport effectie.scalaz.Effectful._\n\nimport effectie.scalaz.EitherTSupport._\nimport effectie.scalaz.OptionTSupport._\nimport effectie.scalaz._\n")),Object(c.b)("p",null,"For more details, check out ",Object(c.b)("a",{parentName:"p",href:"scalaz-effect/scalaz-effect"},"Effectie for Scalaz Effect"),"."),Object(c.b)("h2",{id:"why"},"Why?"),Object(c.b)("p",null,"Tagless final gives us power to defer the decision of the implementations of contexts we're binding and functional effect libraries like Cats Effect and Scalaz Effect give us referential transparency. There might be an issue though with constructing an effect type data. It is actually an issue with Cats Effect as Cats Effect ",Object(c.b)("inlineCode",{parentName:"p"},"IO"),"'s ",Object(c.b)("inlineCode",{parentName:"p"},"pure")," (or ",Object(c.b)("inlineCode",{parentName:"p"},"Monad.pure"),") is not referentially transparent. "),Object(c.b)("p",null,"Let's check out some code examples."),Object(c.b)("p",null,"e.g.) Cats Effect"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'import cats.effect._\n\n// or cats.Monad[IO].pure(println("a"))\nval io = IO.pure(println("a"))\n// a\n// io: IO[Unit] = Pure(a = ())\n// It is not referentially transparent so immediately evaluates println("a") \n\nio.unsafeRunSync()\nio.unsafeRunSync()\n')),Object(c.b)("p",null,"e.g.) Scalaz Effect"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'import scalaz._, scalaz.effect._\n\nval io = Monad[IO].pure(println("a"))\n// io: IO[Unit] = scalaz.effect.IO$$anon$7@4f53e30c\n// It is referentially transparent so println("a") is not evaluated here.\n\nio.unsafePerformIO()\n// a\nio.unsafePerformIO()\n// a\n')),Object(c.b)("p",null,"So to have referential transparency when using Cats Effect, ",Object(c.b)("inlineCode",{parentName:"p"},"IO.apply()")," should be used."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'import cats.effect._\n\nval io = IO(println("a"))\n// io: IO[Unit] = Delay(thunk = <function0>)\n// Now it is referentially transparent so println("a") is not evaluated here. \n\nio.unsafeRunSync()\n// a\nio.unsafeRunSync()\n// a\n')),Object(c.b)("p",null,"Now, let's use Cats Effect with tagless final."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'import cats.effect._\n\ntrait Foo[F[_]] {\n  def get[A](a: => A): F[A]\n}\n\nclass Bar[F[_]] extends Foo[F] {\n  def get[A](a: => A): F[A] =\n    // How would you construct F[A]?\n}\n\n// call-site\nval bar = new Bar[IO]\nbar.get(1)\nbar.get(println("a"))\n')),Object(c.b)("p",null,"How would you construct ",Object(c.b)("inlineCode",{parentName:"p"},"F[A]"),"? You could probably do ",Object(c.b)("inlineCode",{parentName:"p"},"Applicative[F].pure")," or ",Object(c.b)("inlineCode",{parentName:"p"},"Monad[F].pure(a)"),". "),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},"import cats._\n\nclass Bar[F[_]: Applicative] extends Foo[F] { // or [F[_]: Monad]\n  def get[A](a: => A): F[A] =\n    Applicative[F].pure(a) // or Monad[F].pure(a)\n}\n")),Object(c.b)("p",null,"However, neither ",Object(c.b)("inlineCode",{parentName:"p"},"Applicative.pure")," nor ",Object(c.b)("inlineCode",{parentName:"p"},"Monad.pure")," in Cats are referentially transparent when it's mixed with impure code (e.g. some side-effect code like ",Object(c.b)("inlineCode",{parentName:"p"},'println("a")'),").\nSo If you do this,"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'val bar = new Bar[IO]\nval iou = bar.get(println("a"))\n// a is printed here\n// and you get IO[Unit]\n\niou.unsafeRunSync() // This does not print anything but returns ()\n')),Object(c.b)("p",null,"With Effectie you can do this."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'import cats.effect._\n\nimport effectie.cats._\n\ntrait Foo[F[_]] {\n  def get[A](a: => A): F[A]\n}\n\nclass Bar[F[_]: EffectConstructor] extends Foo[F] {\n  def get[A](a: => A): F[A] =\n    EffectConstructor[F].effectOf(a)\n}\n\n// call-site\nval bar = new Bar[IO]\n// bar: Bar[IO] = repl.MdocSession$App9$Bar@4fb2e731\nval iou = bar.get(println("a"))\n// iou: IO[Unit] = Delay(thunk = <function0>)\n// This does not print anything here.\n\niou.unsafeRunSync()\n// a\niou.unsafeRunSync()\n// a\n')),Object(c.b)("p",null,"Or a more convenient way like"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'import cats.effect._\n\nimport effectie.cats.Effectful._\nimport effectie.cats._\n\ntrait Foo[F[_]] {\n  def get[A](a: => A): F[A]\n}\n\nclass Bar[F[_]: EffectConstructor] extends Foo[F] {\n  def get[A](a: => A): F[A] =\n    effectOf(a) // no more EffectConstructor[F].effectOf\n}\n\n// call-site\nval bar = new Bar[IO]\n// bar: Bar[IO] = repl.MdocSession$App12$Bar@78a829ee\nval iou = bar.get(println("a"))\n// iou: IO[Unit] = Delay(thunk = <function0>)\n// This does not print anything here.\n\niou.unsafeRunSync()\n// a\niou.unsafeRunSync()\n// a\n')),Object(c.b)("p",null,"Check out"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"cats-effect/cats-effect"},"Effectie for Cats Effect")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"scalaz-effect/scalaz-effect"},"Effectie for Scalaz Effect"))))}s.isMDXComponent=!0},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var f=r.a.createContext({}),s=function(e){var t=r.a.useContext(f),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return r.a.createElement(f.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,i=e.parentName,f=o(e,["components","mdxType","originalType","parentName"]),p=s(n),u=a,d=p["".concat(i,".").concat(u)]||p[u]||b[u]||c;return n?r.a.createElement(d,l(l({ref:t},f),{},{components:n})):r.a.createElement(d,l({ref:t},f))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,i=new Array(c);i[0]=u;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var f=2;f<c;f++)i[f]=n[f];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);